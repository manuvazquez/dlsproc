---

title: xml


keywords: fastai
sidebar: home_sidebar

summary: "Functionality to parse XML files"
description: "Functionality to parse XML files"
nb_path: "10_xml.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: 10_xml.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Directory where the data (<em>XML</em> files) are stored</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">directory</span> <span class="o">=</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="o">.</span><span class="n">cwd</span><span class="p">()</span> <span class="o">/</span> <span class="s1">&#39;samples&#39;</span>
<span class="k">assert</span> <span class="n">directory</span><span class="o">.</span><span class="n">exists</span><span class="p">()</span>
<span class="n">directory</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>PosixPath(&#39;/home/manu/dlsproc/samples&#39;)</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>A (sample) file in that directory</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">xml_file</span> <span class="o">=</span> <span class="n">directory</span> <span class="o">/</span> <span class="s1">&#39;PlataformasAgregadasSinMenores_20220104_030016_1.atom&#39;</span>
<span class="k">assert</span> <span class="n">xml_file</span><span class="o">.</span><span class="n">exists</span><span class="p">()</span>
<span class="n">xml_file</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>PosixPath(&#39;/home/manu/dlsproc/samples/PlataformasAgregadasSinMenores_20220104_030016_1.atom&#39;)</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">!</span>head <span class="o">{</span>xml_file<span class="o">}</span> --lines<span class="o">=</span><span class="m">20</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34; standalone=&#34;yes&#34;?&gt;
&lt;feed xmlns=&#34;http://www.w3.org/2005/Atom&#34; xmlns:cbc-place-ext=&#34;urn:dgpe:names:draft:codice-place-ext:schema:xsd:CommonBasicComponents-2&#34; xmlns:cac-place-ext=&#34;urn:dgpe:names:draft:codice-place-ext:schema:xsd:CommonAggregateComponents-2&#34; xmlns:cbc=&#34;urn:dgpe:names:draft:codice:schema:xsd:CommonBasicComponents-2&#34; xmlns:cac=&#34;urn:dgpe:names:draft:codice:schema:xsd:CommonAggregateComponents-2&#34; xmlns:ns1=&#34;urn:oasis:names:specification:ubl:schema:xsd:CommonExtensionComponents-2&#34;&gt;
    &lt;author&gt;
        &lt;name&gt;Plataforma de Contratación del Sector Público&lt;/name&gt;
        &lt;uri&gt;https://contrataciondelestado.es&lt;/uri&gt;
        &lt;email&gt;contrataciondelestado@minhafp.es&lt;/email&gt;
    &lt;/author&gt;
    &lt;id&gt;https://contrataciondelestado.es/sindicacion/sindicacion_1044/PlataformasAgregadasSinMenores.atom&lt;/id&gt;
    &lt;link href=&#34;PlataformasAgregadasSinMenores_20220104_030016_1.atom&#34; rel=&#34;self&#34;/&gt;
    &lt;link href=&#34;PlataformasAgregadasSinMenores.atom&#34; rel=&#34;first&#34;/&gt;
    &lt;link href=&#34;PlataformasAgregadasSinMenores_20220104_030016.atom&#34; rel=&#34;prev&#34;/&gt;
    &lt;link href=&#34;PlataformasAgregadasSinMenores_20211231_030012.atom&#34; rel=&#34;next&#34;/&gt;
    &lt;title&gt;Licitaciones publicadas en la Plataforma de Contratación del Sector Público: Plataformas Agregadas Sin Menores&lt;/title&gt;
    &lt;updated&gt;2022-01-03T03:00:13.633+01:00&lt;/updated&gt;
    &lt;at:deleted-entry ref=&#34;https://contrataciondelestado.es/sindicacion/PlataformasAgregadasSinMenores/1968384&#34; when=&#34;2022-01-03T00:11:41.879+01:00&#34; xmlns:at=&#34;http://purl.org/atompub/tombstones/1.0&#34;/&gt;
    &lt;at:deleted-entry ref=&#34;https://contrataciondelestado.es/sindicacion/PlataformasAgregadasSinMenores/6802801&#34; when=&#34;2022-01-03T00:11:41.837+01:00&#34; xmlns:at=&#34;http://purl.org/atompub/tombstones/1.0&#34;/&gt;
    &lt;at:deleted-entry ref=&#34;https://contrataciondelestado.es/sindicacion/PlataformasAgregadasSinMenores/8231582&#34; when=&#34;2022-01-03T00:11:41.790+01:00&#34; xmlns:at=&#34;http://purl.org/atompub/tombstones/1.0&#34;/&gt;
    &lt;at:deleted-entry ref=&#34;https://contrataciondelestado.es/sindicacion/PlataformasAgregadasSinMenores/1968385&#34; when=&#34;2022-01-03T00:11:41.750+01:00&#34; xmlns:at=&#34;http://purl.org/atompub/tombstones/1.0&#34;/&gt;
    &lt;at:deleted-entry ref=&#34;https://contrataciondelestado.es/sindicacion/PlataformasAgregadasSinMenores/1969766&#34; when=&#34;2022-01-03T00:11:41.698+01:00&#34; xmlns:at=&#34;http://purl.org/atompub/tombstones/1.0&#34;/&gt;
    &lt;at:deleted-entry ref=&#34;https://contrataciondelestado.es/sindicacion/PlataformasAgregadasSinMenores/1968427&#34; when=&#34;2022-01-03T00:11:41.653+01:00&#34; xmlns:at=&#34;http://purl.org/atompub/tombstones/1.0&#34;/&gt;
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><em>Root</em> element of the <em>XML</em> tree</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">root</span> <span class="o">=</span> <span class="n">etree</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">xml_file</span><span class="p">)</span><span class="o">.</span><span class="n">getroot</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Convenience-functions">Convenience functions<a class="anchor-link" href="#Convenience-functions"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>A function to extract the <em>namespace</em>s declared in an <em>XML</em> file</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="get_namespaces" class="doc_header"><code>get_namespaces</code><a href="https://github.com/manuvazquez/dlsproc/tree/master/dlsproc/xml.py#L16" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>get_namespaces</code>(<strong><code>input_file</code></strong>:<code>Path</code>[<code>str</code>, <code>Path</code>], <strong><code>root_name</code></strong>:<code>str</code>=<em><code>'base'</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">get_namespaces</span><span class="p">(</span><span class="n">xml_file</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>{&#39;cbc-place-ext&#39;: &#39;urn:dgpe:names:draft:codice-place-ext:schema:xsd:CommonBasicComponents-2&#39;,
 &#39;cac-place-ext&#39;: &#39;urn:dgpe:names:draft:codice-place-ext:schema:xsd:CommonAggregateComponents-2&#39;,
 &#39;cbc&#39;: &#39;urn:dgpe:names:draft:codice:schema:xsd:CommonBasicComponents-2&#39;,
 &#39;cac&#39;: &#39;urn:dgpe:names:draft:codice:schema:xsd:CommonAggregateComponents-2&#39;,
 &#39;ns1&#39;: &#39;urn:oasis:names:specification:ubl:schema:xsd:CommonExtensionComponents-2&#39;,
 &#39;base&#39;: &#39;http://www.w3.org/2005/Atom&#39;}</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>In order to trim off <em>namespace</em>s from a tag:</p>
<ul>
<li>a regular expression</li>
</ul>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">assert</span> <span class="n">re_tag</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{blabla}</span><span class="s1">foo&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">groups</span><span class="p">()</span> <span class="o">==</span> <span class="p">(</span><span class="s1">&#39;blabla&#39;</span><span class="p">,</span> <span class="s1">&#39;foo&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">re_tag</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{some.namespace}</span><span class="s1">id&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">groups</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>(&#39;some.namespace&#39;, &#39;id&#39;)</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<ul>
<li>a function</li>
</ul>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="split_namespace_tag" class="doc_header"><code>split_namespace_tag</code><a href="https://github.com/manuvazquez/dlsproc/tree/master/dlsproc/xml.py#L32" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>split_namespace_tag</code>(<strong><code>namespace_tag</code></strong>:<code>str</code>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">split_namespace_tag</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{some.namespace}</span><span class="s1">id&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>(&#39;some.namespace&#39;, &#39;id&#39;)</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">split_namespace_tag</span><span class="p">(</span><span class="n">root</span><span class="o">.</span><span class="n">tag</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>(&#39;http://www.w3.org/2005/Atom&#39;, &#39;feed&#39;)</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>[&#39;author&#39;, &#39;id&#39;, &#39;link&#39;, &#39;title&#39;, &#39;updated&#39;, &#39;deleted-entry&#39;]</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>A function to get list of <code>etree.Element</code> with all the <em>entries</em> (allegedly, <em>procurement contracts</em>)</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="get_entries" class="doc_header"><code>get_entries</code><a href="https://github.com/manuvazquez/dlsproc/tree/master/dlsproc/xml.py#L40" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>get_entries</code>(<strong><code>root</code></strong>:<code>Element</code>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><em>Entries</em> are extracted using the above function (only the 4 first ones are shown)</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">entries</span> <span class="o">=</span> <span class="n">get_entries</span><span class="p">(</span><span class="n">root</span><span class="p">)</span>
<span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">entries</span><span class="p">)</span> <span class="o">==</span> <span class="mi">117</span>
<span class="n">entries</span><span class="p">[:</span><span class="mi">4</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>[&lt;Element {http://www.w3.org/2005/Atom}entry at 0x7f4ae5cbec80&gt;,
 &lt;Element {http://www.w3.org/2005/Atom}entry at 0x7f4ae5cbbc00&gt;,
 &lt;Element {http://www.w3.org/2005/Atom}entry at 0x7f4ae5cbec40&gt;,
 &lt;Element {http://www.w3.org/2005/Atom}entry at 0x7f4ae5cbecc0&gt;]</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">element</span> <span class="o">=</span> <span class="n">entries</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">split_namespace_tag</span><span class="p">(</span><span class="n">element</span><span class="o">.</span><span class="n">tag</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>(&#39;http://www.w3.org/2005/Atom&#39;, &#39;entry&#39;)</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">subelement</span> <span class="o">=</span> <span class="n">element</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
<span class="n">split_namespace_tag</span><span class="p">(</span><span class="n">subelement</span><span class="o">.</span><span class="n">tag</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>(&#39;http://www.w3.org/2005/Atom&#39;, &#39;title&#39;)</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">subelement</span><span class="o">.</span><span class="n">text</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&#34;L&#39;objecte del contracte és la renovació de totes les llumeneres que formen la il·luminació existent de tots els carrers i vials del casc urbà de la localitat de Sant Ramon i dels nuclis agregats de La Manresana, Portell, Viver i Gospí&#34;</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">element</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&lt;Element {http://www.w3.org/2005/Atom}entry at 0x7f4ae5cbec80&gt;</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Everything is stored as a string in an <em>XML</em> file. The approach below is used to handle conversions.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">numeric_field</span> <span class="o">=</span> <span class="s1">&#39;8&#39;</span>
<span class="n">numeric_field</span><span class="o">.</span><span class="n">isnumeric</span><span class="p">()</span>
<span class="nb">float</span><span class="p">(</span><span class="n">numeric_field</span><span class="p">)</span><span class="o">.</span><span class="n">is_integer</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>True</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>When two a <em>tag</em> is nested inside other <em>tag</em> the string below is used to assemble the name of the resulting <em>column</em> from those of the original tags</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>For instance, a <em>tag</em> <code>&lt;month&gt;</code> inside a <em>tag</em> <code>&lt;date&gt;</code> will yield a <em>column</em></p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="sa">f</span><span class="s1">&#39;month</span><span class="si">{</span><span class="n">nested_tags_separator</span><span class="si">}</span><span class="s1">date&#39;</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&#39;month - date&#39;</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>A high-level function to do exactly that</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="assemble_name" class="doc_header"><code>assemble_name</code><a href="https://github.com/manuvazquez/dlsproc/tree/master/dlsproc/xml.py#L49" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>assemble_name</code>(<strong><code>tags</code></strong>:<code>list</code>)</p>
</blockquote>
<p>Assemble the name of field/column in the DataFrame from a path of nested tags.</p>
<p><strong>Parameters</strong></p>
<ul>
<li><p>tags: list</p>
<p>List of tags.</p>
</li>
</ul>
<p><strong>Returns</strong></p>
<ul>
<li><p>out: str</p>
<p>A suitable name.</p>
</li>
</ul>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">assemble_name</span><span class="p">([</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="s1">&#39;fa&#39;</span><span class="p">])</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&#39;foo - fa&#39;</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Parsing">Parsing<a class="anchor-link" href="#Parsing"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>A <strong>recursive</strong> function to parse a node of the <em>XML</em> tree</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="entry_to_dict" class="doc_header"><code>entry_to_dict</code><a href="https://github.com/manuvazquez/dlsproc/tree/master/dlsproc/xml.py#L70" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>entry_to_dict</code>(<strong><code>entry</code></strong>:<code>Element</code>, <strong><code>recursive</code></strong>:<code>bool</code>=<em><code>True</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">element_series</span> <span class="o">=</span> <span class="n">entry_to_dict</span><span class="p">(</span><span class="n">element</span><span class="p">)</span>
<span class="n">element_series</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>{&#39;id&#39;: &#39;https://contrataciondelestado.es/sindicacion/PlataformasAgregadasSinMenores/8799346&#39;,
 &#39;summary&#39;: &#39;Id licitación: C. 2-2021; Órgano de Contratación: Ajuntament de Sant Ramon; Importe: 135553.26; Estado: ADJUDICADA&#39;,
 &#39;title&#39;: &#34;L&#39;objecte del contracte és la renovació de totes les llumeneres que formen la il·luminació existent de tots els carrers i vials del casc urbà de la localitat de Sant Ramon i dels nuclis agregats de La Manresana, Portell, Viver i Gospí&#34;,
 &#39;updated&#39;: &#39;2022-01-03T01:11:41.826+01:00&#39;,
 &#39;ContractFolderStatus - ContractFolderID&#39;: &#39;C. 2-2021&#39;,
 &#39;ContractFolderStatus - ContractFolderStatusCode&#39;: &#39;ADJ&#39;,
 &#39;ContractFolderStatus - LocatedContractingParty - BuyerProfileURIID&#39;: &#39;https://contractaciopublica.gencat.cat/ecofin_pscp/AppJava/cap.pscp?reqCode=viewDetail&amp;idCap=2763318&#39;,
 &#39;ContractFolderStatus - LocatedContractingParty - Party - PartyName - Name&#39;: &#39;Ajuntament de Sant Ramon&#39;,
 &#39;ContractFolderStatus - LocatedContractingParty - ParentLocatedParty - PartyName - Name&#39;: &#39;Entitats municipals de Catalunya&#39;,
 &#39;ContractFolderStatus - ProcurementProject - Name&#39;: &#34;L&#39;objecte del contracte és la renovació de totes les llumeneres que formen la il·luminació existent de tots els carrers i vials del casc urbà de la localitat de Sant Ramon i dels nuclis agregats de La Manresana, Portell, Viver i Gospí&#34;,
 &#39;ContractFolderStatus - ProcurementProject - TypeCode&#39;: 1,
 &#39;ContractFolderStatus - ProcurementProject - BudgetAmount - EstimatedOverallContractAmount&#39;: &#39;135553.26&#39;,
 &#39;ContractFolderStatus - ProcurementProject - BudgetAmount - TaxExclusiveAmount&#39;: &#39;135553.26&#39;,
 &#39;ContractFolderStatus - ProcurementProject - RequiredCommodityClassification - ItemClassificationCode&#39;: 34928530,
 &#39;ContractFolderStatus - ProcurementProject - RealizedLocation - CountrySubentityCode&#39;: &#39;ES513&#39;,
 &#39;ContractFolderStatus - ProcurementProject - PlannedPeriod - DurationMeasure&#39;: 3,
 &#39;ContractFolderStatus - TenderResult - ResultCode&#39;: 8,
 &#39;ContractFolderStatus - TenderResult - ReceivedTenderQuantity&#39;: 11,
 &#39;ContractFolderStatus - TenderResult - WinningParty - PartyIdentification - ID&#39;: &#39;A28526275&#39;,
 &#39;ContractFolderStatus - TenderResult - WinningParty - PartyName - Name&#39;: &#39;AERONAVAL DE CONSTRUCCIONES I INSTALACIONES , SA ( ACISA)&#39;,
 &#39;ContractFolderStatus - TenderResult - AwardedTenderedProject - LegalMonetaryTotal - TaxExclusiveAmount&#39;: &#39;90078.51&#39;,
 &#39;ContractFolderStatus - TenderingProcess - ProcedureCode&#39;: 9,
 &#39;ContractFolderStatus - TenderingProcess - TenderSubmissionDeadlinePeriod - EndDate&#39;: &#39;2021-12-17&#39;,
 &#39;ContractFolderStatus - TenderingProcess - TenderSubmissionDeadlinePeriod - EndTime&#39;: &#39;14:00:00&#39;,
 &#39;ContractFolderStatus - ValidNoticeInfo - NoticeTypeCode&#39;: &#39;DOC_CAN_ADJ&#39;,
 &#39;ContractFolderStatus - ValidNoticeInfo - AdditionalPublicationStatus - PublicationMediaName&#39;: &#39;Perfil del contratante&#39;,
 &#39;ContractFolderStatus - ValidNoticeInfo - AdditionalPublicationStatus - AdditionalPublicationDocumentReference - IssueDate&#39;: &#39;2022-01-03&#39;}</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Data-structures">Data structures<a class="anchor-link" href="#Data-structures"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Series">Series<a class="anchor-link" href="#Series"> </a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>A function that just wraps the result of <a href="/dlsproc/xml.html#entry_to_dict"><code>entry_to_dict</code></a> into a <code>pd.Series</code></p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="entry_to_series" class="doc_header"><code>entry_to_series</code><a href="https://github.com/manuvazquez/dlsproc/tree/master/dlsproc/xml.py#L115" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>entry_to_series</code>(<strong><code>entry</code></strong>:<code>Element</code>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Only the first 8 fields are printed (enough to show <em>nested</em> elements)</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">element_series</span> <span class="o">=</span> <span class="n">entry_to_series</span><span class="p">(</span><span class="n">element</span><span class="p">)</span>
<span class="n">element_series</span><span class="p">[:</span><span class="mi">8</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>id                                                                           https://contrataciondelestado.es/sindicacion/P...
summary                                                                      Id licitación: C. 2-2021; Órgano de Contrataci...
title                                                                        L&#39;objecte del contracte és la renovació de tot...
updated                                                                                          2022-01-03T01:11:41.826+01:00
ContractFolderStatus - ContractFolderID                                                                              C. 2-2021
ContractFolderStatus - ContractFolderStatusCode                                                                            ADJ
ContractFolderStatus - LocatedContractingParty - BuyerProfileURIID           https://contractaciopublica.gencat.cat/ecofin_...
ContractFolderStatus - LocatedContractingParty - Party - PartyName - Name                             Ajuntament de Sant Ramon
dtype: object</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Hierarchical-indexing">Hierarchical indexing<a class="anchor-link" href="#Hierarchical-indexing"> </a></h4>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We can easily iterate the series</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">next</span><span class="p">(</span><span class="nb">iter</span><span class="p">(</span><span class="n">element_series</span><span class="o">.</span><span class="n">iteritems</span><span class="p">()))</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>(&#39;id&#39;,
 &#39;https://contrataciondelestado.es/sindicacion/PlataformasAgregadasSinMenores/8799346&#39;)</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">index_paths</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">values</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">element_series</span><span class="o">.</span><span class="n">iteritems</span><span class="p">():</span>
    <span class="n">index_paths</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">tuple</span><span class="p">(</span><span class="n">i</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">nested_tags_separator</span><span class="p">)))</span>
    <span class="n">values</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">index_paths</span><span class="p">[:</span><span class="mi">6</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>[(&#39;id&#39;,),
 (&#39;summary&#39;,),
 (&#39;title&#39;,),
 (&#39;updated&#39;,),
 (&#39;ContractFolderStatus&#39;, &#39;ContractFolderID&#39;),
 (&#39;ContractFolderStatus&#39;, &#39;ContractFolderStatusCode&#39;)]</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">values</span><span class="p">[:</span><span class="mi">6</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>[&#39;https://contrataciondelestado.es/sindicacion/PlataformasAgregadasSinMenores/8799346&#39;,
 &#39;Id licitación: C. 2-2021; Órgano de Contratación: Ajuntament de Sant Ramon; Importe: 135553.26; Estado: ADJUDICADA&#39;,
 &#34;L&#39;objecte del contracte és la renovació de totes les llumeneres que formen la il·luminació existent de tots els carrers i vials del casc urbà de la localitat de Sant Ramon i dels nuclis agregats de La Manresana, Portell, Viver i Gospí&#34;,
 &#39;2022-01-03T01:11:41.826+01:00&#39;,
 &#39;C. 2-2021&#39;,
 &#39;ADJ&#39;]</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">multiindex</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">MultiIndex</span><span class="o">.</span><span class="n">from_tuples</span><span class="p">(</span><span class="n">index_paths</span><span class="p">)</span>
<span class="n">multiindex</span><span class="p">[:</span><span class="mi">6</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>MultiIndex([(                  &#39;id&#39;,                        nan, nan, ...),
            (             &#39;summary&#39;,                        nan, nan, ...),
            (               &#39;title&#39;,                        nan, nan, ...),
            (             &#39;updated&#39;,                        nan, nan, ...),
            (&#39;ContractFolderStatus&#39;,         &#39;ContractFolderID&#39;, nan, ...),
            (&#39;ContractFolderStatus&#39;, &#39;ContractFolderStatusCode&#39;, nan, ...)],
           )</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">multiindexed_series</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">values</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="n">multiindex</span><span class="p">)</span>
<span class="n">multiindexed_series</span><span class="p">[:</span><span class="mi">6</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>id                    NaN                       NaN  NaN  NaN    https://contrataciondelestado.es/sindicacion/P...
summary               NaN                       NaN  NaN  NaN    Id licitación: C. 2-2021; Órgano de Contrataci...
title                 NaN                       NaN  NaN  NaN    L&#39;objecte del contracte és la renovació de tot...
updated               NaN                       NaN  NaN  NaN                        2022-01-03T01:11:41.826+01:00
ContractFolderStatus  ContractFolderID          NaN  NaN  NaN                                            C. 2-2021
                      ContractFolderStatusCode  NaN  NaN  NaN                                                  ADJ
dtype: object</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>A function that turns the index of a <code>pd.Series</code> into a hierarchical (<code>pd.MultiIndex</code>) one.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="flat_series_to_multiindexed_series" class="doc_header"><code>flat_series_to_multiindexed_series</code><a href="https://github.com/manuvazquez/dlsproc/tree/master/dlsproc/xml.py#L120" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>flat_series_to_multiindexed_series</code>(<strong><code>s</code></strong>:<code>Series</code>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">flat_series_to_multiindexed_series</span><span class="p">(</span><span class="n">element_series</span><span class="p">)[:</span><span class="mi">6</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>id                    NaN                       NaN  NaN  NaN    https://contrataciondelestado.es/sindicacion/P...
summary               NaN                       NaN  NaN  NaN    Id licitación: C. 2-2021; Órgano de Contrataci...
title                 NaN                       NaN  NaN  NaN    L&#39;objecte del contracte és la renovació de tot...
updated               NaN                       NaN  NaN  NaN                        2022-01-03T01:11:41.826+01:00
ContractFolderStatus  ContractFolderID          NaN  NaN  NaN                                            C. 2-2021
                      ContractFolderStatusCode  NaN  NaN  NaN                                                  ADJ
dtype: object</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We can concatenate together the <code>pd.Series</code> for the different <em>entries</em> into a <code>pd.DataFrame</code></p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">hi_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">flat_series_to_multiindexed_series</span><span class="p">(</span><span class="n">entry_to_series</span><span class="p">(</span><span class="n">e</span><span class="p">))</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">entries</span><span class="p">[:</span><span class="mi">4</span><span class="p">]],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">T</span>
<span class="n">hi_df</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead tr th {
        text-align: left;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr>
      <th></th>
      <th>id</th>
      <th>summary</th>
      <th>title</th>
      <th>updated</th>
      <th colspan="17" halign="left">ContractFolderStatus</th>
    </tr>
    <tr>
      <th></th>
      <th>NaN</th>
      <th>NaN</th>
      <th>NaN</th>
      <th>NaN</th>
      <th>ContractFolderID</th>
      <th>ContractFolderStatusCode</th>
      <th colspan="3" halign="left">LocatedContractingParty</th>
      <th>ProcurementProject</th>
      <th>...</th>
      <th colspan="2" halign="left">TenderResult</th>
      <th colspan="3" halign="left">TenderingProcess</th>
      <th colspan="3" halign="left">ValidNoticeInfo</th>
      <th colspan="2" halign="left">LegalDocumentReference</th>
    </tr>
    <tr>
      <th></th>
      <th>NaN</th>
      <th>NaN</th>
      <th>NaN</th>
      <th>NaN</th>
      <th>NaN</th>
      <th>NaN</th>
      <th>BuyerProfileURIID</th>
      <th>Party</th>
      <th>ParentLocatedParty</th>
      <th>Name</th>
      <th>...</th>
      <th>WinningParty</th>
      <th>AwardedTenderedProject</th>
      <th>ProcedureCode</th>
      <th colspan="2" halign="left">TenderSubmissionDeadlinePeriod</th>
      <th>NoticeTypeCode</th>
      <th colspan="2" halign="left">AdditionalPublicationStatus</th>
      <th>ID</th>
      <th>Attachment</th>
    </tr>
    <tr>
      <th></th>
      <th>NaN</th>
      <th>NaN</th>
      <th>NaN</th>
      <th>NaN</th>
      <th>NaN</th>
      <th>NaN</th>
      <th>NaN</th>
      <th>PartyName</th>
      <th>PartyName</th>
      <th>NaN</th>
      <th>...</th>
      <th>PartyName</th>
      <th>LegalMonetaryTotal</th>
      <th>NaN</th>
      <th>EndDate</th>
      <th>EndTime</th>
      <th>NaN</th>
      <th>PublicationMediaName</th>
      <th>AdditionalPublicationDocumentReference</th>
      <th>NaN</th>
      <th>ExternalReference</th>
    </tr>
    <tr>
      <th></th>
      <th>NaN</th>
      <th>NaN</th>
      <th>NaN</th>
      <th>NaN</th>
      <th>NaN</th>
      <th>NaN</th>
      <th>NaN</th>
      <th>Name</th>
      <th>Name</th>
      <th>NaN</th>
      <th>...</th>
      <th>Name</th>
      <th>TaxExclusiveAmount</th>
      <th>NaN</th>
      <th>NaN</th>
      <th>NaN</th>
      <th>NaN</th>
      <th>NaN</th>
      <th>IssueDate</th>
      <th>NaN</th>
      <th>URI</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>https://contrataciondelestado.es/sindicacion/P...</td>
      <td>Id licitación: C. 2-2021; Órgano de Contrataci...</td>
      <td>L'objecte del contracte és la renovació de tot...</td>
      <td>2022-01-03T01:11:41.826+01:00</td>
      <td>C. 2-2021</td>
      <td>ADJ</td>
      <td>https://contractaciopublica.gencat.cat/ecofin_...</td>
      <td>Ajuntament de Sant Ramon</td>
      <td>Entitats municipals de Catalunya</td>
      <td>L'objecte del contracte és la renovació de tot...</td>
      <td>...</td>
      <td>AERONAVAL DE CONSTRUCCIONES I INSTALACIONES , ...</td>
      <td>90078.51</td>
      <td>9</td>
      <td>2021-12-17</td>
      <td>14:00:00</td>
      <td>DOC_CAN_ADJ</td>
      <td>Perfil del contratante</td>
      <td>2022-01-03</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1</th>
      <td>https://contrataciondelestado.es/sindicacion/P...</td>
      <td>Id licitación: 8128_3/2021; Órgano de Contrata...</td>
      <td>Obras de restauración hidromorfológica del río...</td>
      <td>2022-01-03T01:00:11.194+01:00</td>
      <td>8128_3/2021</td>
      <td>PUB</td>
      <td>NaN</td>
      <td>Pleno del Ayuntamiento</td>
      <td>AYUNTAMIENTO DE MONREAL</td>
      <td>Obras de restauración hidromorfológica del río...</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>1</td>
      <td>2022-01-22</td>
      <td>23:30:00</td>
      <td>DOC_CN</td>
      <td>Perfil del contratante</td>
      <td>2022-01-03</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2</th>
      <td>https://contrataciondelestado.es/sindicacion/P...</td>
      <td>Id licitación: 1000_0005-CP01-2021-000063; Órg...</td>
      <td>Contrato del servicio de realización de labore...</td>
      <td>2022-01-03T01:00:10.399+01:00</td>
      <td>1000_0005-CP01-2021-000063</td>
      <td>EV</td>
      <td>NaN</td>
      <td>El Director General de Comunicación y Relacion...</td>
      <td>Departamento de Presidencia, Igualdad, Función...</td>
      <td>Contrato del servicio de realización de labore...</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>1</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>DOC_CN</td>
      <td>Perfil del contratante</td>
      <td>2022-01-03</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>3</th>
      <td>https://contrataciondelestado.es/sindicacion/P...</td>
      <td>Id licitación: 1379/2020 4738; Órgano de Contr...</td>
      <td>Obres de renovació de l'enllumenat públic a la...</td>
      <td>2022-01-03T00:11:40.740+01:00</td>
      <td>1379/2020 4738</td>
      <td>EV</td>
      <td>https://contractaciopublica.gencat.cat/ecofin_...</td>
      <td>Ajuntament de Canet de Mar</td>
      <td>Entitats municipals de Catalunya</td>
      <td>Obres de renovació de l'enllumenat públic a la...</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>9</td>
      <td>2022-01-02</td>
      <td>23:59:00</td>
      <td>DOC_CN</td>
      <td>Perfil del contratante</td>
      <td>2021-12-13</td>
      <td>Plec Clausules.pdf</td>
      <td>https://contractaciopublica.gencat.cat/ecofin_...</td>
    </tr>
  </tbody>
</table>
<p>4 rows × 29 columns</p>
</div></div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><em>Cross-sections</em> of the above <code>pd.DataFrame</code> can be extracted</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">hi_df</span><span class="o">.</span><span class="n">xs</span><span class="p">(</span><span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="s1">&#39;columns&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead tr th {
        text-align: left;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr>
      <th></th>
      <th>NaN</th>
    </tr>
    <tr>
      <th></th>
      <th>NaN</th>
    </tr>
    <tr>
      <th></th>
      <th>NaN</th>
    </tr>
    <tr>
      <th></th>
      <th>NaN</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>https://contrataciondelestado.es/sindicacion/P...</td>
    </tr>
    <tr>
      <th>1</th>
      <td>https://contrataciondelestado.es/sindicacion/P...</td>
    </tr>
    <tr>
      <th>2</th>
      <td>https://contrataciondelestado.es/sindicacion/P...</td>
    </tr>
    <tr>
      <th>3</th>
      <td>https://contrataciondelestado.es/sindicacion/P...</td>
    </tr>
  </tbody>
</table>
</div></div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>At deeper levels (notice in the above table <em>ContractFolderID</em> is nested inside <em>ContractFolderStatus</em>)</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">hi_df</span><span class="o">.</span><span class="n">xs</span><span class="p">(</span><span class="s1">&#39;ContractFolderID&#39;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead tr th {
        text-align: left;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr>
      <th></th>
      <th>ContractFolderStatus</th>
    </tr>
    <tr>
      <th></th>
      <th>NaN</th>
    </tr>
    <tr>
      <th></th>
      <th>NaN</th>
    </tr>
    <tr>
      <th></th>
      <th>NaN</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>C. 2-2021</td>
    </tr>
    <tr>
      <th>1</th>
      <td>8128_3/2021</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1000_0005-CP01-2021-000063</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1379/2020 4738</td>
    </tr>
  </tbody>
</table>
</div></div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The latter encompasses most of the data</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">hi_df</span><span class="o">.</span><span class="n">xs</span><span class="p">(</span><span class="s1">&#39;ContractFolderStatus&#39;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead tr th {
        text-align: left;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr>
      <th></th>
      <th>ContractFolderID</th>
      <th>ContractFolderStatusCode</th>
      <th colspan="3" halign="left">LocatedContractingParty</th>
      <th colspan="5" halign="left">ProcurementProject</th>
      <th>...</th>
      <th colspan="2" halign="left">TenderResult</th>
      <th colspan="3" halign="left">TenderingProcess</th>
      <th colspan="3" halign="left">ValidNoticeInfo</th>
      <th colspan="2" halign="left">LegalDocumentReference</th>
    </tr>
    <tr>
      <th></th>
      <th>NaN</th>
      <th>NaN</th>
      <th>BuyerProfileURIID</th>
      <th>Party</th>
      <th>ParentLocatedParty</th>
      <th>Name</th>
      <th>TypeCode</th>
      <th colspan="2" halign="left">BudgetAmount</th>
      <th>RequiredCommodityClassification</th>
      <th>...</th>
      <th>WinningParty</th>
      <th>AwardedTenderedProject</th>
      <th>ProcedureCode</th>
      <th colspan="2" halign="left">TenderSubmissionDeadlinePeriod</th>
      <th>NoticeTypeCode</th>
      <th colspan="2" halign="left">AdditionalPublicationStatus</th>
      <th>ID</th>
      <th>Attachment</th>
    </tr>
    <tr>
      <th></th>
      <th>NaN</th>
      <th>NaN</th>
      <th>NaN</th>
      <th>PartyName</th>
      <th>PartyName</th>
      <th>NaN</th>
      <th>NaN</th>
      <th>EstimatedOverallContractAmount</th>
      <th>TaxExclusiveAmount</th>
      <th>ItemClassificationCode</th>
      <th>...</th>
      <th>PartyName</th>
      <th>LegalMonetaryTotal</th>
      <th>NaN</th>
      <th>EndDate</th>
      <th>EndTime</th>
      <th>NaN</th>
      <th>PublicationMediaName</th>
      <th>AdditionalPublicationDocumentReference</th>
      <th>NaN</th>
      <th>ExternalReference</th>
    </tr>
    <tr>
      <th></th>
      <th>NaN</th>
      <th>NaN</th>
      <th>NaN</th>
      <th>Name</th>
      <th>Name</th>
      <th>NaN</th>
      <th>NaN</th>
      <th>NaN</th>
      <th>NaN</th>
      <th>NaN</th>
      <th>...</th>
      <th>Name</th>
      <th>TaxExclusiveAmount</th>
      <th>NaN</th>
      <th>NaN</th>
      <th>NaN</th>
      <th>NaN</th>
      <th>NaN</th>
      <th>IssueDate</th>
      <th>NaN</th>
      <th>URI</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>C. 2-2021</td>
      <td>ADJ</td>
      <td>https://contractaciopublica.gencat.cat/ecofin_...</td>
      <td>Ajuntament de Sant Ramon</td>
      <td>Entitats municipals de Catalunya</td>
      <td>L'objecte del contracte és la renovació de tot...</td>
      <td>1</td>
      <td>135553.26</td>
      <td>135553.26</td>
      <td>34928530</td>
      <td>...</td>
      <td>AERONAVAL DE CONSTRUCCIONES I INSTALACIONES , ...</td>
      <td>90078.51</td>
      <td>9</td>
      <td>2021-12-17</td>
      <td>14:00:00</td>
      <td>DOC_CAN_ADJ</td>
      <td>Perfil del contratante</td>
      <td>2022-01-03</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1</th>
      <td>8128_3/2021</td>
      <td>PUB</td>
      <td>NaN</td>
      <td>Pleno del Ayuntamiento</td>
      <td>AYUNTAMIENTO DE MONREAL</td>
      <td>Obras de restauración hidromorfológica del río...</td>
      <td>3</td>
      <td>81022.72</td>
      <td>81022.72</td>
      <td>45000000</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>1</td>
      <td>2022-01-22</td>
      <td>23:30:00</td>
      <td>DOC_CN</td>
      <td>Perfil del contratante</td>
      <td>2022-01-03</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1000_0005-CP01-2021-000063</td>
      <td>EV</td>
      <td>NaN</td>
      <td>El Director General de Comunicación y Relacion...</td>
      <td>Departamento de Presidencia, Igualdad, Función...</td>
      <td>Contrato del servicio de realización de labore...</td>
      <td>2</td>
      <td>239797.5</td>
      <td>47959.5</td>
      <td>92400000</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>1</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>DOC_CN</td>
      <td>Perfil del contratante</td>
      <td>2022-01-03</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1379/2020 4738</td>
      <td>EV</td>
      <td>https://contractaciopublica.gencat.cat/ecofin_...</td>
      <td>Ajuntament de Canet de Mar</td>
      <td>Entitats municipals de Catalunya</td>
      <td>Obres de renovació de l'enllumenat públic a la...</td>
      <td>3</td>
      <td>214781.46</td>
      <td>178984.55</td>
      <td>45316100</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>9</td>
      <td>2022-01-02</td>
      <td>23:59:00</td>
      <td>DOC_CN</td>
      <td>Perfil del contratante</td>
      <td>2021-12-13</td>
      <td>Plec Clausules.pdf</td>
      <td>https://contractaciopublica.gencat.cat/ecofin_...</td>
    </tr>
  </tbody>
</table>
<p>4 rows × 25 columns</p>
</div></div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="DataFrame">DataFrame<a class="anchor-link" href="#DataFrame"> </a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We can concatenate together the <code>pd.Series</code> for the different <em>entries</em> into a <code>pd.DataFrame</code></p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">entry_to_series</span><span class="p">(</span><span class="n">e</span><span class="p">)</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">entries</span><span class="p">[:</span><span class="mi">4</span><span class="p">]],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">T</span>
<span class="n">df</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>id</th>
      <th>summary</th>
      <th>title</th>
      <th>updated</th>
      <th>ContractFolderStatus - ContractFolderID</th>
      <th>ContractFolderStatus - ContractFolderStatusCode</th>
      <th>ContractFolderStatus - LocatedContractingParty - BuyerProfileURIID</th>
      <th>ContractFolderStatus - LocatedContractingParty - Party - PartyName - Name</th>
      <th>ContractFolderStatus - LocatedContractingParty - ParentLocatedParty - PartyName - Name</th>
      <th>ContractFolderStatus - ProcurementProject - Name</th>
      <th>...</th>
      <th>ContractFolderStatus - TenderResult - WinningParty - PartyName - Name</th>
      <th>ContractFolderStatus - TenderResult - AwardedTenderedProject - LegalMonetaryTotal - TaxExclusiveAmount</th>
      <th>ContractFolderStatus - TenderingProcess - ProcedureCode</th>
      <th>ContractFolderStatus - TenderingProcess - TenderSubmissionDeadlinePeriod - EndDate</th>
      <th>ContractFolderStatus - TenderingProcess - TenderSubmissionDeadlinePeriod - EndTime</th>
      <th>ContractFolderStatus - ValidNoticeInfo - NoticeTypeCode</th>
      <th>ContractFolderStatus - ValidNoticeInfo - AdditionalPublicationStatus - PublicationMediaName</th>
      <th>ContractFolderStatus - ValidNoticeInfo - AdditionalPublicationStatus - AdditionalPublicationDocumentReference - IssueDate</th>
      <th>ContractFolderStatus - LegalDocumentReference - ID</th>
      <th>ContractFolderStatus - LegalDocumentReference - Attachment - ExternalReference - URI</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>https://contrataciondelestado.es/sindicacion/P...</td>
      <td>Id licitación: C. 2-2021; Órgano de Contrataci...</td>
      <td>L'objecte del contracte és la renovació de tot...</td>
      <td>2022-01-03T01:11:41.826+01:00</td>
      <td>C. 2-2021</td>
      <td>ADJ</td>
      <td>https://contractaciopublica.gencat.cat/ecofin_...</td>
      <td>Ajuntament de Sant Ramon</td>
      <td>Entitats municipals de Catalunya</td>
      <td>L'objecte del contracte és la renovació de tot...</td>
      <td>...</td>
      <td>AERONAVAL DE CONSTRUCCIONES I INSTALACIONES , ...</td>
      <td>90078.51</td>
      <td>9</td>
      <td>2021-12-17</td>
      <td>14:00:00</td>
      <td>DOC_CAN_ADJ</td>
      <td>Perfil del contratante</td>
      <td>2022-01-03</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1</th>
      <td>https://contrataciondelestado.es/sindicacion/P...</td>
      <td>Id licitación: 8128_3/2021; Órgano de Contrata...</td>
      <td>Obras de restauración hidromorfológica del río...</td>
      <td>2022-01-03T01:00:11.194+01:00</td>
      <td>8128_3/2021</td>
      <td>PUB</td>
      <td>NaN</td>
      <td>Pleno del Ayuntamiento</td>
      <td>AYUNTAMIENTO DE MONREAL</td>
      <td>Obras de restauración hidromorfológica del río...</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>1</td>
      <td>2022-01-22</td>
      <td>23:30:00</td>
      <td>DOC_CN</td>
      <td>Perfil del contratante</td>
      <td>2022-01-03</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2</th>
      <td>https://contrataciondelestado.es/sindicacion/P...</td>
      <td>Id licitación: 1000_0005-CP01-2021-000063; Órg...</td>
      <td>Contrato del servicio de realización de labore...</td>
      <td>2022-01-03T01:00:10.399+01:00</td>
      <td>1000_0005-CP01-2021-000063</td>
      <td>EV</td>
      <td>NaN</td>
      <td>El Director General de Comunicación y Relacion...</td>
      <td>Departamento de Presidencia, Igualdad, Función...</td>
      <td>Contrato del servicio de realización de labore...</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>1</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>DOC_CN</td>
      <td>Perfil del contratante</td>
      <td>2022-01-03</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>3</th>
      <td>https://contrataciondelestado.es/sindicacion/P...</td>
      <td>Id licitación: 1379/2020 4738; Órgano de Contr...</td>
      <td>Obres de renovació de l'enllumenat públic a la...</td>
      <td>2022-01-03T00:11:40.740+01:00</td>
      <td>1379/2020 4738</td>
      <td>EV</td>
      <td>https://contractaciopublica.gencat.cat/ecofin_...</td>
      <td>Ajuntament de Canet de Mar</td>
      <td>Entitats municipals de Catalunya</td>
      <td>Obres de renovació de l'enllumenat públic a la...</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>9</td>
      <td>2022-01-02</td>
      <td>23:59:00</td>
      <td>DOC_CN</td>
      <td>Perfil del contratante</td>
      <td>2021-12-13</td>
      <td>Plec Clausules.pdf</td>
      <td>https://contractaciopublica.gencat.cat/ecofin_...</td>
    </tr>
  </tbody>
</table>
<p>4 rows × 29 columns</p>
</div></div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The types of the columns (every type is <code>object</code> since there are missing values everywhere)</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">dtypes</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>id                                                                                                                           object
summary                                                                                                                      object
title                                                                                                                        object
updated                                                                                                                      object
ContractFolderStatus - ContractFolderID                                                                                      object
ContractFolderStatus - ContractFolderStatusCode                                                                              object
ContractFolderStatus - LocatedContractingParty - BuyerProfileURIID                                                           object
ContractFolderStatus - LocatedContractingParty - Party - PartyName - Name                                                    object
ContractFolderStatus - LocatedContractingParty - ParentLocatedParty - PartyName - Name                                       object
ContractFolderStatus - ProcurementProject - Name                                                                             object
ContractFolderStatus - ProcurementProject - TypeCode                                                                         object
ContractFolderStatus - ProcurementProject - BudgetAmount - EstimatedOverallContractAmount                                    object
ContractFolderStatus - ProcurementProject - BudgetAmount - TaxExclusiveAmount                                                object
ContractFolderStatus - ProcurementProject - RequiredCommodityClassification - ItemClassificationCode                         object
ContractFolderStatus - ProcurementProject - RealizedLocation - CountrySubentityCode                                          object
ContractFolderStatus - ProcurementProject - PlannedPeriod - DurationMeasure                                                  object
ContractFolderStatus - TenderResult - ResultCode                                                                             object
ContractFolderStatus - TenderResult - ReceivedTenderQuantity                                                                 object
ContractFolderStatus - TenderResult - WinningParty - PartyIdentification - ID                                                object
ContractFolderStatus - TenderResult - WinningParty - PartyName - Name                                                        object
ContractFolderStatus - TenderResult - AwardedTenderedProject - LegalMonetaryTotal - TaxExclusiveAmount                       object
ContractFolderStatus - TenderingProcess - ProcedureCode                                                                      object
ContractFolderStatus - TenderingProcess - TenderSubmissionDeadlinePeriod - EndDate                                           object
ContractFolderStatus - TenderingProcess - TenderSubmissionDeadlinePeriod - EndTime                                           object
ContractFolderStatus - ValidNoticeInfo - NoticeTypeCode                                                                      object
ContractFolderStatus - ValidNoticeInfo - AdditionalPublicationStatus - PublicationMediaName                                  object
ContractFolderStatus - ValidNoticeInfo - AdditionalPublicationStatus - AdditionalPublicationDocumentReference - IssueDate    object
ContractFolderStatus - LegalDocumentReference - ID                                                                           object
ContractFolderStatus - LegalDocumentReference - Attachment - ExternalReference - URI                                         object
dtype: object</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The function below follows the above strategy to turn an <em>XML</em> file into a <em>Pandas</em> <code>pd.DataFrame</code></p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="to_df" class="doc_header"><code>to_df</code><a href="https://github.com/manuvazquez/dlsproc/tree/master/dlsproc/xml.py#L132" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>to_df</code>(<strong><code>input_file</code></strong>:<code>Path</code>[<code>str</code>, <code>Path</code>])</p>
</blockquote>
<p>Reads and parses an XML file into a <code>pd.DataFrame</code>.</p>
<p><strong>Parameters</strong></p>
<ul>
<li><p>input_file: str or Path</p>
<p>Input file.</p>
</li>
</ul>
<p><strong>Returns</strong></p>
<ul>
<li><p>out: pd.DataFrame</p>
<p>A Pandas DataFrame with XML data.</p>
</li>
</ul>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">to_df</span><span class="p">(</span><span class="n">xml_file</span><span class="p">)</span>
<span class="n">df</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>id</th>
      <th>summary</th>
      <th>title</th>
      <th>updated</th>
      <th>ContractFolderStatus - ContractFolderID</th>
      <th>ContractFolderStatus - ContractFolderStatusCode</th>
      <th>ContractFolderStatus - LocatedContractingParty - BuyerProfileURIID</th>
      <th>ContractFolderStatus - LocatedContractingParty - Party - PartyName - Name</th>
      <th>ContractFolderStatus - LocatedContractingParty - ParentLocatedParty - PartyName - Name</th>
      <th>ContractFolderStatus - ProcurementProject - Name</th>
      <th>...</th>
      <th>ContractFolderStatus - LegalDocumentReference - Attachment - ExternalReference - URI</th>
      <th>ContractFolderStatus - TechnicalDocumentReference - ID</th>
      <th>ContractFolderStatus - TechnicalDocumentReference - Attachment - ExternalReference - URI</th>
      <th>ContractFolderStatus - ProcurementProject - PlannedPeriod - StartDate</th>
      <th>ContractFolderStatus - ProcurementProject - PlannedPeriod - EndDate</th>
      <th>ContractFolderStatus - LocatedContractingParty - Party - PartyIdentification - ID</th>
      <th>ContractFolderStatus - LocatedContractingParty - ParentLocatedParty - ParentLocatedParty - PartyName - Name</th>
      <th>ContractFolderStatus - TenderingProcess - ParticipationRequestReceptionPeriod - EndDate</th>
      <th>ContractFolderStatus - TenderingProcess - ParticipationRequestReceptionPeriod - EndTime</th>
      <th>ContractFolderStatus - TenderResult - AwardedTenderedProject - ProcurementProjectLotID</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>https://contrataciondelestado.es/sindicacion/P...</td>
      <td>Id licitación: C. 2-2021; Órgano de Contrataci...</td>
      <td>L'objecte del contracte és la renovació de tot...</td>
      <td>2022-01-03T01:11:41.826+01:00</td>
      <td>C. 2-2021</td>
      <td>ADJ</td>
      <td>https://contractaciopublica.gencat.cat/ecofin_...</td>
      <td>Ajuntament de Sant Ramon</td>
      <td>Entitats municipals de Catalunya</td>
      <td>L'objecte del contracte és la renovació de tot...</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1</th>
      <td>https://contrataciondelestado.es/sindicacion/P...</td>
      <td>Id licitación: 8128_3/2021; Órgano de Contrata...</td>
      <td>Obras de restauración hidromorfológica del río...</td>
      <td>2022-01-03T01:00:11.194+01:00</td>
      <td>8128_3/2021</td>
      <td>PUB</td>
      <td>NaN</td>
      <td>Pleno del Ayuntamiento</td>
      <td>AYUNTAMIENTO DE MONREAL</td>
      <td>Obras de restauración hidromorfológica del río...</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2</th>
      <td>https://contrataciondelestado.es/sindicacion/P...</td>
      <td>Id licitación: 1000_0005-CP01-2021-000063; Órg...</td>
      <td>Contrato del servicio de realización de labore...</td>
      <td>2022-01-03T01:00:10.399+01:00</td>
      <td>1000_0005-CP01-2021-000063</td>
      <td>EV</td>
      <td>NaN</td>
      <td>El Director General de Comunicación y Relacion...</td>
      <td>Departamento de Presidencia, Igualdad, Función...</td>
      <td>Contrato del servicio de realización de labore...</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>3</th>
      <td>https://contrataciondelestado.es/sindicacion/P...</td>
      <td>Id licitación: 1379/2020 4738; Órgano de Contr...</td>
      <td>Obres de renovació de l'enllumenat públic a la...</td>
      <td>2022-01-03T00:11:40.740+01:00</td>
      <td>1379/2020 4738</td>
      <td>EV</td>
      <td>https://contractaciopublica.gencat.cat/ecofin_...</td>
      <td>Ajuntament de Canet de Mar</td>
      <td>Entitats municipals de Catalunya</td>
      <td>Obres de renovació de l'enllumenat públic a la...</td>
      <td>...</td>
      <td>https://contractaciopublica.gencat.cat/ecofin_...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>4</th>
      <td>https://contrataciondelestado.es/sindicacion/P...</td>
      <td>Id licitación: 2021-44; Órgano de Contratación...</td>
      <td>Subministre i la instal·lació fotovoltaica en ...</td>
      <td>2022-01-03T00:11:40.696+01:00</td>
      <td>2021-44</td>
      <td>EV</td>
      <td>https://contractaciopublica.gencat.cat/ecofin_...</td>
      <td>Ajuntament de Valls</td>
      <td>Entitats municipals de Catalunya</td>
      <td>Subministre i la instal·lació fotovoltaica en ...</td>
      <td>...</td>
      <td>https://contractaciopublica.gencat.cat/ecofin_...</td>
      <td>Enllac plec clausules tecniques.doc</td>
      <td>https://contractaciopublica.gencat.cat/ecofin_...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>112</th>
      <td>https://contrataciondelestado.es/sindicacion/P...</td>
      <td>Id licitación: 1005_391-2021; Órgano de Contra...</td>
      <td>Apoyo a la gestión del patrimonio filmográfico...</td>
      <td>2021-12-31T01:00:14.946+01:00</td>
      <td>1005_391-2021</td>
      <td>PUB</td>
      <td>NaN</td>
      <td>Dirección General de Cultura-Institución Prínc...</td>
      <td>Departamento de Cultura, Deporte y Juventud</td>
      <td>Apoyo a la gestión del patrimonio filmográfico...</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>113</th>
      <td>https://contrataciondelestado.es/sindicacion/P...</td>
      <td>Id licitación: 8165_3/2021; Órgano de Contrata...</td>
      <td>Asistencia técnica para la prestación del serv...</td>
      <td>2021-12-31T01:00:14.393+01:00</td>
      <td>8165_3/2021</td>
      <td>EV</td>
      <td>NaN</td>
      <td>Mancomunidad de Servicios Sociales de Base de ...</td>
      <td>MANCOMUNIDAD DE SERVICIOS DE HUARTE Y DE ESTER...</td>
      <td>Asistencia técnica para la prestación del serv...</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>114</th>
      <td>https://contrataciondelestado.es/sindicacion/P...</td>
      <td>Id licitación: 8113_3/2021; Órgano de Contrata...</td>
      <td>Contrato de servicios de desinfección, desinse...</td>
      <td>2021-12-31T01:00:13.594+01:00</td>
      <td>8113_3/2021</td>
      <td>EV</td>
      <td>NaN</td>
      <td>Subdirector de Gestión y Recursos</td>
      <td>Agencia Navarra para la Dependencia</td>
      <td>Contrato de servicios de desinfección, desinse...</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>2022-01-01</td>
      <td>2022-12-31</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>115</th>
      <td>https://contrataciondelestado.es/sindicacion/P...</td>
      <td>Id licitación: 8113_01 2021; Órgano de Contrat...</td>
      <td>Contrato del Servicio de Teleasistencia para l...</td>
      <td>2021-12-31T01:00:12.604+01:00</td>
      <td>8113_01 2021</td>
      <td>EV</td>
      <td>NaN</td>
      <td>Agencia Navarra de Autonomía y Desarrollo de l...</td>
      <td>Agencia Navarra para la Dependencia</td>
      <td>Contrato del Servicio de Teleasistencia para l...</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>116</th>
      <td>https://contrataciondelestado.es/sindicacion/P...</td>
      <td>Id licitación: 0001264/2021; Órgano de contrat...</td>
      <td>2021/pa-44-4 servicio de mantenimiento integra...</td>
      <td>2021-12-31T00:14:15.739+01:00</td>
      <td>0001264/2021</td>
      <td>RES</td>
      <td>NaN</td>
      <td>Agencia Pública Empresarial Sanitaria Bajo Gua...</td>
      <td>Junta de Andalucía</td>
      <td>2021/pa-44-4 servicio de mantenimiento integra...</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
<p>117 rows × 38 columns</p>
</div></div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>A function to tidy up some things in the new <code>pd.DataFrame</code></p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="post_process" class="doc_header"><code>post_process</code><a href="https://github.com/manuvazquez/dlsproc/tree/master/dlsproc/xml.py#L157" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>post_process</code>(<strong><code>input_df</code></strong>:<code>DataFrame</code>)</p>
</blockquote>
<p>Tidy up the <code>pd.DataFrame</code> returned by <a href="/dlsproc/xml.html#to_df"><code>to_df</code></a>.</p>
<p><strong>Parameters</strong></p>
<ul>
<li><p>input_df: pd.DataFrame</p>
<p>Input DataFrame as ready by <a href="/dlsproc/xml.html#to_df"><code>to_df</code></a>.</p>
</li>
</ul>
<p><strong>Returns</strong></p>
<ul>
<li><p>out: pd.DataFrame</p>
<p>Post-processed DataFrame.</p>
</li>
</ul>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">post_df</span> <span class="o">=</span> <span class="n">post_process</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
<span class="n">post_df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>id</th>
      <th>summary</th>
      <th>title</th>
      <th>updated</th>
      <th>ContractFolderStatus - ContractFolderID</th>
      <th>ContractFolderStatus - ContractFolderStatusCode</th>
      <th>ContractFolderStatus - LocatedContractingParty - BuyerProfileURIID</th>
      <th>ContractFolderStatus - LocatedContractingParty - Party - PartyName - Name</th>
      <th>ContractFolderStatus - LocatedContractingParty - ParentLocatedParty - PartyName - Name</th>
      <th>ContractFolderStatus - ProcurementProject - Name</th>
      <th>...</th>
      <th>ContractFolderStatus - TechnicalDocumentReference - ID</th>
      <th>ContractFolderStatus - TechnicalDocumentReference - Attachment - ExternalReference - URI</th>
      <th>ContractFolderStatus - ProcurementProject - PlannedPeriod - StartDate</th>
      <th>ContractFolderStatus - ProcurementProject - PlannedPeriod - EndDate</th>
      <th>ContractFolderStatus - LocatedContractingParty - Party - PartyIdentification - ID</th>
      <th>ContractFolderStatus - LocatedContractingParty - ParentLocatedParty - ParentLocatedParty - PartyName - Name</th>
      <th>ContractFolderStatus - TenderingProcess - ParticipationRequestReceptionPeriod - EndDate</th>
      <th>ContractFolderStatus - TenderingProcess - ParticipationRequestReceptionPeriod - EndTime</th>
      <th>ContractFolderStatus - TenderResult - AwardedTenderedProject - ProcurementProjectLotID</th>
      <th>ContractFolderStatus - TenderingProcess - TenderSubmissionDeadlinePeriod</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>https://contrataciondelestado.es/sindicacion/P...</td>
      <td>Id licitación: C. 2-2021; Órgano de Contrataci...</td>
      <td>L'objecte del contracte és la renovació de tot...</td>
      <td>2022-01-03 01:11:41.826000+01:00</td>
      <td>C. 2-2021</td>
      <td>ADJ</td>
      <td>https://contractaciopublica.gencat.cat/ecofin_...</td>
      <td>Ajuntament de Sant Ramon</td>
      <td>Entitats municipals de Catalunya</td>
      <td>L'objecte del contracte és la renovació de tot...</td>
      <td>...</td>
      <td>&lt;NA&gt;</td>
      <td>&lt;NA&gt;</td>
      <td>&lt;NA&gt;</td>
      <td>&lt;NA&gt;</td>
      <td>&lt;NA&gt;</td>
      <td>&lt;NA&gt;</td>
      <td>&lt;NA&gt;</td>
      <td>&lt;NA&gt;</td>
      <td>&lt;NA&gt;</td>
      <td>2021-12-17 14:00:00</td>
    </tr>
    <tr>
      <th>1</th>
      <td>https://contrataciondelestado.es/sindicacion/P...</td>
      <td>Id licitación: 8128_3/2021; Órgano de Contrata...</td>
      <td>Obras de restauración hidromorfológica del río...</td>
      <td>2022-01-03 01:00:11.194000+01:00</td>
      <td>8128_3/2021</td>
      <td>PUB</td>
      <td>&lt;NA&gt;</td>
      <td>Pleno del Ayuntamiento</td>
      <td>AYUNTAMIENTO DE MONREAL</td>
      <td>Obras de restauración hidromorfológica del río...</td>
      <td>...</td>
      <td>&lt;NA&gt;</td>
      <td>&lt;NA&gt;</td>
      <td>&lt;NA&gt;</td>
      <td>&lt;NA&gt;</td>
      <td>&lt;NA&gt;</td>
      <td>&lt;NA&gt;</td>
      <td>&lt;NA&gt;</td>
      <td>&lt;NA&gt;</td>
      <td>&lt;NA&gt;</td>
      <td>2022-01-22 23:30:00</td>
    </tr>
    <tr>
      <th>2</th>
      <td>https://contrataciondelestado.es/sindicacion/P...</td>
      <td>Id licitación: 1000_0005-CP01-2021-000063; Órg...</td>
      <td>Contrato del servicio de realización de labore...</td>
      <td>2022-01-03 01:00:10.399000+01:00</td>
      <td>1000_0005-CP01-2021-000063</td>
      <td>EV</td>
      <td>&lt;NA&gt;</td>
      <td>El Director General de Comunicación y Relacion...</td>
      <td>Departamento de Presidencia, Igualdad, Función...</td>
      <td>Contrato del servicio de realización de labore...</td>
      <td>...</td>
      <td>&lt;NA&gt;</td>
      <td>&lt;NA&gt;</td>
      <td>&lt;NA&gt;</td>
      <td>&lt;NA&gt;</td>
      <td>&lt;NA&gt;</td>
      <td>&lt;NA&gt;</td>
      <td>&lt;NA&gt;</td>
      <td>&lt;NA&gt;</td>
      <td>&lt;NA&gt;</td>
      <td>NaT</td>
    </tr>
    <tr>
      <th>3</th>
      <td>https://contrataciondelestado.es/sindicacion/P...</td>
      <td>Id licitación: 1379/2020 4738; Órgano de Contr...</td>
      <td>Obres de renovació de l'enllumenat públic a la...</td>
      <td>2022-01-03 00:11:40.740000+01:00</td>
      <td>1379/2020 4738</td>
      <td>EV</td>
      <td>https://contractaciopublica.gencat.cat/ecofin_...</td>
      <td>Ajuntament de Canet de Mar</td>
      <td>Entitats municipals de Catalunya</td>
      <td>Obres de renovació de l'enllumenat públic a la...</td>
      <td>...</td>
      <td>&lt;NA&gt;</td>
      <td>&lt;NA&gt;</td>
      <td>&lt;NA&gt;</td>
      <td>&lt;NA&gt;</td>
      <td>&lt;NA&gt;</td>
      <td>&lt;NA&gt;</td>
      <td>&lt;NA&gt;</td>
      <td>&lt;NA&gt;</td>
      <td>&lt;NA&gt;</td>
      <td>2022-01-02 23:59:00</td>
    </tr>
    <tr>
      <th>4</th>
      <td>https://contrataciondelestado.es/sindicacion/P...</td>
      <td>Id licitación: 2021-44; Órgano de Contratación...</td>
      <td>Subministre i la instal·lació fotovoltaica en ...</td>
      <td>2022-01-03 00:11:40.696000+01:00</td>
      <td>2021-44</td>
      <td>EV</td>
      <td>https://contractaciopublica.gencat.cat/ecofin_...</td>
      <td>Ajuntament de Valls</td>
      <td>Entitats municipals de Catalunya</td>
      <td>Subministre i la instal·lació fotovoltaica en ...</td>
      <td>...</td>
      <td>Enllac plec clausules tecniques.doc</td>
      <td>https://contractaciopublica.gencat.cat/ecofin_...</td>
      <td>&lt;NA&gt;</td>
      <td>&lt;NA&gt;</td>
      <td>&lt;NA&gt;</td>
      <td>&lt;NA&gt;</td>
      <td>&lt;NA&gt;</td>
      <td>&lt;NA&gt;</td>
      <td>&lt;NA&gt;</td>
      <td>2022-01-02 23:59:00</td>
    </tr>
  </tbody>
</table>
<p>5 rows × 39 columns</p>
</div></div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>After post-processing some <code>object</code>s have been parsed as dates.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">post_df</span><span class="o">.</span><span class="n">dtypes</span><span class="p">[:</span><span class="mi">5</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>id                                                                       string
summary                                                                  string
title                                                                    string
updated                                    datetime64[ns, pytz.FixedOffset(60)]
ContractFolderStatus - ContractFolderID                                  string
dtype: object</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>A convenience function combining <a href="/dlsproc/xml.html#to_df"><code>to_df</code></a> and <a href="/dlsproc/xml.html#post_process"><code>post_process</code></a></p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="to_curated_df" class="doc_header"><code>to_curated_df</code><a href="https://github.com/manuvazquez/dlsproc/tree/master/dlsproc/xml.py#L216" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>to_curated_df</code>(<strong><code>input_file</code></strong>:<code>Path</code>[<code>str</code>, <code>Path</code>])</p>
</blockquote>
<p>Reads, parses and tidies up an XML file into a <code>pd.DataFrame</code>.</p>
<p><strong>Parameters</strong></p>
<ul>
<li><p>input_file: str or Path</p>
<p>Input file.</p>
</li>
</ul>
<p><strong>Returns</strong></p>
<ul>
<li><p>out: pd.DataFrame</p>
<p>A Pandas DataFrame with XML data.</p>
</li>
</ul>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">tidy_df</span> <span class="o">=</span> <span class="n">to_curated_df</span><span class="p">(</span><span class="n">xml_file</span><span class="p">)</span>
<span class="n">tidy_df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>id</th>
      <th>summary</th>
      <th>title</th>
      <th>updated</th>
      <th>ContractFolderStatus - ContractFolderID</th>
      <th>ContractFolderStatus - ContractFolderStatusCode</th>
      <th>ContractFolderStatus - LocatedContractingParty - BuyerProfileURIID</th>
      <th>ContractFolderStatus - LocatedContractingParty - Party - PartyName - Name</th>
      <th>ContractFolderStatus - LocatedContractingParty - ParentLocatedParty - PartyName - Name</th>
      <th>ContractFolderStatus - ProcurementProject - Name</th>
      <th>...</th>
      <th>ContractFolderStatus - TechnicalDocumentReference - ID</th>
      <th>ContractFolderStatus - TechnicalDocumentReference - Attachment - ExternalReference - URI</th>
      <th>ContractFolderStatus - ProcurementProject - PlannedPeriod - StartDate</th>
      <th>ContractFolderStatus - ProcurementProject - PlannedPeriod - EndDate</th>
      <th>ContractFolderStatus - LocatedContractingParty - Party - PartyIdentification - ID</th>
      <th>ContractFolderStatus - LocatedContractingParty - ParentLocatedParty - ParentLocatedParty - PartyName - Name</th>
      <th>ContractFolderStatus - TenderingProcess - ParticipationRequestReceptionPeriod - EndDate</th>
      <th>ContractFolderStatus - TenderingProcess - ParticipationRequestReceptionPeriod - EndTime</th>
      <th>ContractFolderStatus - TenderResult - AwardedTenderedProject - ProcurementProjectLotID</th>
      <th>ContractFolderStatus - TenderingProcess - TenderSubmissionDeadlinePeriod</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>https://contrataciondelestado.es/sindicacion/P...</td>
      <td>Id licitación: C. 2-2021; Órgano de Contrataci...</td>
      <td>L'objecte del contracte és la renovació de tot...</td>
      <td>2022-01-03 01:11:41.826000+01:00</td>
      <td>C. 2-2021</td>
      <td>ADJ</td>
      <td>https://contractaciopublica.gencat.cat/ecofin_...</td>
      <td>Ajuntament de Sant Ramon</td>
      <td>Entitats municipals de Catalunya</td>
      <td>L'objecte del contracte és la renovació de tot...</td>
      <td>...</td>
      <td>&lt;NA&gt;</td>
      <td>&lt;NA&gt;</td>
      <td>&lt;NA&gt;</td>
      <td>&lt;NA&gt;</td>
      <td>&lt;NA&gt;</td>
      <td>&lt;NA&gt;</td>
      <td>&lt;NA&gt;</td>
      <td>&lt;NA&gt;</td>
      <td>&lt;NA&gt;</td>
      <td>2021-12-17 14:00:00</td>
    </tr>
    <tr>
      <th>1</th>
      <td>https://contrataciondelestado.es/sindicacion/P...</td>
      <td>Id licitación: 8128_3/2021; Órgano de Contrata...</td>
      <td>Obras de restauración hidromorfológica del río...</td>
      <td>2022-01-03 01:00:11.194000+01:00</td>
      <td>8128_3/2021</td>
      <td>PUB</td>
      <td>&lt;NA&gt;</td>
      <td>Pleno del Ayuntamiento</td>
      <td>AYUNTAMIENTO DE MONREAL</td>
      <td>Obras de restauración hidromorfológica del río...</td>
      <td>...</td>
      <td>&lt;NA&gt;</td>
      <td>&lt;NA&gt;</td>
      <td>&lt;NA&gt;</td>
      <td>&lt;NA&gt;</td>
      <td>&lt;NA&gt;</td>
      <td>&lt;NA&gt;</td>
      <td>&lt;NA&gt;</td>
      <td>&lt;NA&gt;</td>
      <td>&lt;NA&gt;</td>
      <td>2022-01-22 23:30:00</td>
    </tr>
    <tr>
      <th>2</th>
      <td>https://contrataciondelestado.es/sindicacion/P...</td>
      <td>Id licitación: 1000_0005-CP01-2021-000063; Órg...</td>
      <td>Contrato del servicio de realización de labore...</td>
      <td>2022-01-03 01:00:10.399000+01:00</td>
      <td>1000_0005-CP01-2021-000063</td>
      <td>EV</td>
      <td>&lt;NA&gt;</td>
      <td>El Director General de Comunicación y Relacion...</td>
      <td>Departamento de Presidencia, Igualdad, Función...</td>
      <td>Contrato del servicio de realización de labore...</td>
      <td>...</td>
      <td>&lt;NA&gt;</td>
      <td>&lt;NA&gt;</td>
      <td>&lt;NA&gt;</td>
      <td>&lt;NA&gt;</td>
      <td>&lt;NA&gt;</td>
      <td>&lt;NA&gt;</td>
      <td>&lt;NA&gt;</td>
      <td>&lt;NA&gt;</td>
      <td>&lt;NA&gt;</td>
      <td>NaT</td>
    </tr>
    <tr>
      <th>3</th>
      <td>https://contrataciondelestado.es/sindicacion/P...</td>
      <td>Id licitación: 1379/2020 4738; Órgano de Contr...</td>
      <td>Obres de renovació de l'enllumenat públic a la...</td>
      <td>2022-01-03 00:11:40.740000+01:00</td>
      <td>1379/2020 4738</td>
      <td>EV</td>
      <td>https://contractaciopublica.gencat.cat/ecofin_...</td>
      <td>Ajuntament de Canet de Mar</td>
      <td>Entitats municipals de Catalunya</td>
      <td>Obres de renovació de l'enllumenat públic a la...</td>
      <td>...</td>
      <td>&lt;NA&gt;</td>
      <td>&lt;NA&gt;</td>
      <td>&lt;NA&gt;</td>
      <td>&lt;NA&gt;</td>
      <td>&lt;NA&gt;</td>
      <td>&lt;NA&gt;</td>
      <td>&lt;NA&gt;</td>
      <td>&lt;NA&gt;</td>
      <td>&lt;NA&gt;</td>
      <td>2022-01-02 23:59:00</td>
    </tr>
    <tr>
      <th>4</th>
      <td>https://contrataciondelestado.es/sindicacion/P...</td>
      <td>Id licitación: 2021-44; Órgano de Contratación...</td>
      <td>Subministre i la instal·lació fotovoltaica en ...</td>
      <td>2022-01-03 00:11:40.696000+01:00</td>
      <td>2021-44</td>
      <td>EV</td>
      <td>https://contractaciopublica.gencat.cat/ecofin_...</td>
      <td>Ajuntament de Valls</td>
      <td>Entitats municipals de Catalunya</td>
      <td>Subministre i la instal·lació fotovoltaica en ...</td>
      <td>...</td>
      <td>Enllac plec clausules tecniques.doc</td>
      <td>https://contractaciopublica.gencat.cat/ecofin_...</td>
      <td>&lt;NA&gt;</td>
      <td>&lt;NA&gt;</td>
      <td>&lt;NA&gt;</td>
      <td>&lt;NA&gt;</td>
      <td>&lt;NA&gt;</td>
      <td>&lt;NA&gt;</td>
      <td>&lt;NA&gt;</td>
      <td>2022-01-02 23:59:00</td>
    </tr>
  </tbody>
</table>
<p>5 rows × 39 columns</p>
</div></div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Some (post-)processing took place</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">tidy_df</span><span class="o">.</span><span class="n">dtypes</span><span class="p">[:</span><span class="mi">5</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>id                                                                       string
summary                                                                  string
title                                                                    string
updated                                    datetime64[ns, pytz.FixedOffset(60)]
ContractFolderStatus - ContractFolderID                                  string
dtype: object</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Hierarchical-indexing">Hierarchical indexing<a class="anchor-link" href="#Hierarchical-indexing"> </a></h4>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We can concatenate together the <code>pd.Series</code> for the different <em>entries</em> into a <code>pd.DataFrame</code></p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">hi_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">flat_series_to_multiindexed_series</span><span class="p">(</span><span class="n">entry_to_series</span><span class="p">(</span><span class="n">e</span><span class="p">))</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">entries</span><span class="p">[:</span><span class="mi">4</span><span class="p">]],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">T</span>
<span class="n">hi_df</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead tr th {
        text-align: left;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr>
      <th></th>
      <th>id</th>
      <th>summary</th>
      <th>title</th>
      <th>updated</th>
      <th colspan="17" halign="left">ContractFolderStatus</th>
    </tr>
    <tr>
      <th></th>
      <th>NaN</th>
      <th>NaN</th>
      <th>NaN</th>
      <th>NaN</th>
      <th>ContractFolderID</th>
      <th>ContractFolderStatusCode</th>
      <th colspan="3" halign="left">LocatedContractingParty</th>
      <th>ProcurementProject</th>
      <th>...</th>
      <th colspan="2" halign="left">TenderResult</th>
      <th colspan="3" halign="left">TenderingProcess</th>
      <th colspan="3" halign="left">ValidNoticeInfo</th>
      <th colspan="2" halign="left">LegalDocumentReference</th>
    </tr>
    <tr>
      <th></th>
      <th>NaN</th>
      <th>NaN</th>
      <th>NaN</th>
      <th>NaN</th>
      <th>NaN</th>
      <th>NaN</th>
      <th>BuyerProfileURIID</th>
      <th>Party</th>
      <th>ParentLocatedParty</th>
      <th>Name</th>
      <th>...</th>
      <th>WinningParty</th>
      <th>AwardedTenderedProject</th>
      <th>ProcedureCode</th>
      <th colspan="2" halign="left">TenderSubmissionDeadlinePeriod</th>
      <th>NoticeTypeCode</th>
      <th colspan="2" halign="left">AdditionalPublicationStatus</th>
      <th>ID</th>
      <th>Attachment</th>
    </tr>
    <tr>
      <th></th>
      <th>NaN</th>
      <th>NaN</th>
      <th>NaN</th>
      <th>NaN</th>
      <th>NaN</th>
      <th>NaN</th>
      <th>NaN</th>
      <th>PartyName</th>
      <th>PartyName</th>
      <th>NaN</th>
      <th>...</th>
      <th>PartyName</th>
      <th>LegalMonetaryTotal</th>
      <th>NaN</th>
      <th>EndDate</th>
      <th>EndTime</th>
      <th>NaN</th>
      <th>PublicationMediaName</th>
      <th>AdditionalPublicationDocumentReference</th>
      <th>NaN</th>
      <th>ExternalReference</th>
    </tr>
    <tr>
      <th></th>
      <th>NaN</th>
      <th>NaN</th>
      <th>NaN</th>
      <th>NaN</th>
      <th>NaN</th>
      <th>NaN</th>
      <th>NaN</th>
      <th>Name</th>
      <th>Name</th>
      <th>NaN</th>
      <th>...</th>
      <th>Name</th>
      <th>TaxExclusiveAmount</th>
      <th>NaN</th>
      <th>NaN</th>
      <th>NaN</th>
      <th>NaN</th>
      <th>NaN</th>
      <th>IssueDate</th>
      <th>NaN</th>
      <th>URI</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>https://contrataciondelestado.es/sindicacion/P...</td>
      <td>Id licitación: C. 2-2021; Órgano de Contrataci...</td>
      <td>L'objecte del contracte és la renovació de tot...</td>
      <td>2022-01-03T01:11:41.826+01:00</td>
      <td>C. 2-2021</td>
      <td>ADJ</td>
      <td>https://contractaciopublica.gencat.cat/ecofin_...</td>
      <td>Ajuntament de Sant Ramon</td>
      <td>Entitats municipals de Catalunya</td>
      <td>L'objecte del contracte és la renovació de tot...</td>
      <td>...</td>
      <td>AERONAVAL DE CONSTRUCCIONES I INSTALACIONES , ...</td>
      <td>90078.51</td>
      <td>9</td>
      <td>2021-12-17</td>
      <td>14:00:00</td>
      <td>DOC_CAN_ADJ</td>
      <td>Perfil del contratante</td>
      <td>2022-01-03</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1</th>
      <td>https://contrataciondelestado.es/sindicacion/P...</td>
      <td>Id licitación: 8128_3/2021; Órgano de Contrata...</td>
      <td>Obras de restauración hidromorfológica del río...</td>
      <td>2022-01-03T01:00:11.194+01:00</td>
      <td>8128_3/2021</td>
      <td>PUB</td>
      <td>NaN</td>
      <td>Pleno del Ayuntamiento</td>
      <td>AYUNTAMIENTO DE MONREAL</td>
      <td>Obras de restauración hidromorfológica del río...</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>1</td>
      <td>2022-01-22</td>
      <td>23:30:00</td>
      <td>DOC_CN</td>
      <td>Perfil del contratante</td>
      <td>2022-01-03</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2</th>
      <td>https://contrataciondelestado.es/sindicacion/P...</td>
      <td>Id licitación: 1000_0005-CP01-2021-000063; Órg...</td>
      <td>Contrato del servicio de realización de labore...</td>
      <td>2022-01-03T01:00:10.399+01:00</td>
      <td>1000_0005-CP01-2021-000063</td>
      <td>EV</td>
      <td>NaN</td>
      <td>El Director General de Comunicación y Relacion...</td>
      <td>Departamento de Presidencia, Igualdad, Función...</td>
      <td>Contrato del servicio de realización de labore...</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>1</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>DOC_CN</td>
      <td>Perfil del contratante</td>
      <td>2022-01-03</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>3</th>
      <td>https://contrataciondelestado.es/sindicacion/P...</td>
      <td>Id licitación: 1379/2020 4738; Órgano de Contr...</td>
      <td>Obres de renovació de l'enllumenat públic a la...</td>
      <td>2022-01-03T00:11:40.740+01:00</td>
      <td>1379/2020 4738</td>
      <td>EV</td>
      <td>https://contractaciopublica.gencat.cat/ecofin_...</td>
      <td>Ajuntament de Canet de Mar</td>
      <td>Entitats municipals de Catalunya</td>
      <td>Obres de renovació de l'enllumenat públic a la...</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>9</td>
      <td>2022-01-02</td>
      <td>23:59:00</td>
      <td>DOC_CN</td>
      <td>Perfil del contratante</td>
      <td>2021-12-13</td>
      <td>Plec Clausules.pdf</td>
      <td>https://contractaciopublica.gencat.cat/ecofin_...</td>
    </tr>
  </tbody>
</table>
<p>4 rows × 29 columns</p>
</div></div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><em>Cross-sections</em> of the above <code>pd.DataFrame</code> can be extracted</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">hi_df</span><span class="o">.</span><span class="n">xs</span><span class="p">(</span><span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="s1">&#39;columns&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead tr th {
        text-align: left;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr>
      <th></th>
      <th>NaN</th>
    </tr>
    <tr>
      <th></th>
      <th>NaN</th>
    </tr>
    <tr>
      <th></th>
      <th>NaN</th>
    </tr>
    <tr>
      <th></th>
      <th>NaN</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>https://contrataciondelestado.es/sindicacion/P...</td>
    </tr>
    <tr>
      <th>1</th>
      <td>https://contrataciondelestado.es/sindicacion/P...</td>
    </tr>
    <tr>
      <th>2</th>
      <td>https://contrataciondelestado.es/sindicacion/P...</td>
    </tr>
    <tr>
      <th>3</th>
      <td>https://contrataciondelestado.es/sindicacion/P...</td>
    </tr>
  </tbody>
</table>
</div></div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>At deeper levels (notice in the above table <em>ContractFolderID</em> is nested inside <em>ContractFolderStatus</em>)</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">hi_df</span><span class="o">.</span><span class="n">xs</span><span class="p">(</span><span class="s1">&#39;ContractFolderID&#39;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead tr th {
        text-align: left;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr>
      <th></th>
      <th>ContractFolderStatus</th>
    </tr>
    <tr>
      <th></th>
      <th>NaN</th>
    </tr>
    <tr>
      <th></th>
      <th>NaN</th>
    </tr>
    <tr>
      <th></th>
      <th>NaN</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>C. 2-2021</td>
    </tr>
    <tr>
      <th>1</th>
      <td>8128_3/2021</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1000_0005-CP01-2021-000063</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1379/2020 4738</td>
    </tr>
  </tbody>
</table>
</div></div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The latter encompasses most of the data</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">hi_df</span><span class="o">.</span><span class="n">xs</span><span class="p">(</span><span class="s1">&#39;ContractFolderStatus&#39;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead tr th {
        text-align: left;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr>
      <th></th>
      <th>ContractFolderID</th>
      <th>ContractFolderStatusCode</th>
      <th colspan="3" halign="left">LocatedContractingParty</th>
      <th colspan="5" halign="left">ProcurementProject</th>
      <th>...</th>
      <th colspan="2" halign="left">TenderResult</th>
      <th colspan="3" halign="left">TenderingProcess</th>
      <th colspan="3" halign="left">ValidNoticeInfo</th>
      <th colspan="2" halign="left">LegalDocumentReference</th>
    </tr>
    <tr>
      <th></th>
      <th>NaN</th>
      <th>NaN</th>
      <th>BuyerProfileURIID</th>
      <th>Party</th>
      <th>ParentLocatedParty</th>
      <th>Name</th>
      <th>TypeCode</th>
      <th colspan="2" halign="left">BudgetAmount</th>
      <th>RequiredCommodityClassification</th>
      <th>...</th>
      <th>WinningParty</th>
      <th>AwardedTenderedProject</th>
      <th>ProcedureCode</th>
      <th colspan="2" halign="left">TenderSubmissionDeadlinePeriod</th>
      <th>NoticeTypeCode</th>
      <th colspan="2" halign="left">AdditionalPublicationStatus</th>
      <th>ID</th>
      <th>Attachment</th>
    </tr>
    <tr>
      <th></th>
      <th>NaN</th>
      <th>NaN</th>
      <th>NaN</th>
      <th>PartyName</th>
      <th>PartyName</th>
      <th>NaN</th>
      <th>NaN</th>
      <th>EstimatedOverallContractAmount</th>
      <th>TaxExclusiveAmount</th>
      <th>ItemClassificationCode</th>
      <th>...</th>
      <th>PartyName</th>
      <th>LegalMonetaryTotal</th>
      <th>NaN</th>
      <th>EndDate</th>
      <th>EndTime</th>
      <th>NaN</th>
      <th>PublicationMediaName</th>
      <th>AdditionalPublicationDocumentReference</th>
      <th>NaN</th>
      <th>ExternalReference</th>
    </tr>
    <tr>
      <th></th>
      <th>NaN</th>
      <th>NaN</th>
      <th>NaN</th>
      <th>Name</th>
      <th>Name</th>
      <th>NaN</th>
      <th>NaN</th>
      <th>NaN</th>
      <th>NaN</th>
      <th>NaN</th>
      <th>...</th>
      <th>Name</th>
      <th>TaxExclusiveAmount</th>
      <th>NaN</th>
      <th>NaN</th>
      <th>NaN</th>
      <th>NaN</th>
      <th>NaN</th>
      <th>IssueDate</th>
      <th>NaN</th>
      <th>URI</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>C. 2-2021</td>
      <td>ADJ</td>
      <td>https://contractaciopublica.gencat.cat/ecofin_...</td>
      <td>Ajuntament de Sant Ramon</td>
      <td>Entitats municipals de Catalunya</td>
      <td>L'objecte del contracte és la renovació de tot...</td>
      <td>1</td>
      <td>135553.26</td>
      <td>135553.26</td>
      <td>34928530</td>
      <td>...</td>
      <td>AERONAVAL DE CONSTRUCCIONES I INSTALACIONES , ...</td>
      <td>90078.51</td>
      <td>9</td>
      <td>2021-12-17</td>
      <td>14:00:00</td>
      <td>DOC_CAN_ADJ</td>
      <td>Perfil del contratante</td>
      <td>2022-01-03</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1</th>
      <td>8128_3/2021</td>
      <td>PUB</td>
      <td>NaN</td>
      <td>Pleno del Ayuntamiento</td>
      <td>AYUNTAMIENTO DE MONREAL</td>
      <td>Obras de restauración hidromorfológica del río...</td>
      <td>3</td>
      <td>81022.72</td>
      <td>81022.72</td>
      <td>45000000</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>1</td>
      <td>2022-01-22</td>
      <td>23:30:00</td>
      <td>DOC_CN</td>
      <td>Perfil del contratante</td>
      <td>2022-01-03</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1000_0005-CP01-2021-000063</td>
      <td>EV</td>
      <td>NaN</td>
      <td>El Director General de Comunicación y Relacion...</td>
      <td>Departamento de Presidencia, Igualdad, Función...</td>
      <td>Contrato del servicio de realización de labore...</td>
      <td>2</td>
      <td>239797.5</td>
      <td>47959.5</td>
      <td>92400000</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>1</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>DOC_CN</td>
      <td>Perfil del contratante</td>
      <td>2022-01-03</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1379/2020 4738</td>
      <td>EV</td>
      <td>https://contractaciopublica.gencat.cat/ecofin_...</td>
      <td>Ajuntament de Canet de Mar</td>
      <td>Entitats municipals de Catalunya</td>
      <td>Obres de renovació de l'enllumenat públic a la...</td>
      <td>3</td>
      <td>214781.46</td>
      <td>178984.55</td>
      <td>45316100</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>9</td>
      <td>2022-01-02</td>
      <td>23:59:00</td>
      <td>DOC_CN</td>
      <td>Perfil del contratante</td>
      <td>2021-12-13</td>
      <td>Plec Clausules.pdf</td>
      <td>https://contractaciopublica.gencat.cat/ecofin_...</td>
    </tr>
  </tbody>
</table>
<p>4 rows × 25 columns</p>
</div></div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Assorted">Assorted<a class="anchor-link" href="#Assorted"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>A function to find the depth (inside the <em>XML</em>) of every column. Columns associated with <em>leafs</em> (0 depth) are not reported.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="columns_depth" class="doc_header"><code>columns_depth</code><a href="https://github.com/manuvazquez/dlsproc/tree/master/dlsproc/xml.py#L237" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>columns_depth</code>(<strong><code>df</code></strong>:<code>DataFrame</code>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">tidy_df_columns_depth</span> <span class="o">=</span> <span class="n">columns_depth</span><span class="p">(</span><span class="n">tidy_df</span><span class="p">)</span>
<span class="n">tidy_df_columns_depth</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>column
4    1
5    1
6    2
7    4
8    4
Name: 0, dtype: int64</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

</div>
 

